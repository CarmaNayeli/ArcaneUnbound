<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arcane Unbound - Coven Ritual Lookup</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #1a0033 0%, #2d1b4e 50%, #1a0033 100%);
            color: #e6d5ff;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            border: 2px solid #8b5cf6;
        }

        h1 {
            font-size: 3em;
            color: #a78bfa;
            text-shadow: 0 0 20px rgba(167, 139, 250, 0.5);
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 1.2em;
            color: #c4b5fd;
            font-style: italic;
        }

        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        button {
            padding: 12px 24px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .add-member-btn {
            background: linear-gradient(135deg, #8b5cf6 0%, #6d28d9 100%);
            color: white;
        }

        .reset-btn {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
        }

        .advanced-toggle {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .ai-toggle {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            position: relative;
        }

        .ai-toggle::before {
            content: 'ðŸ¤– ';
        }

        .ai-toggle.active {
            background: linear-gradient(135deg, #059669 0%, #047857 100%);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.6);
        }

        .coven-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .member-card {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid #6d28d9;
            border-radius: 12px;
            padding: 20px;
            position: relative;
            transition: all 0.3s ease;
        }

        .member-card:hover {
            border-color: #8b5cf6;
            box-shadow: 0 5px 20px rgba(139, 92, 246, 0.3);
        }

        .member-card.ai-card {
            border-color: #10b981;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(5, 150, 105, 0.1) 100%);
        }

        .member-card.ai-card:hover {
            border-color: #34d399;
            box-shadow: 0 5px 20px rgba(16, 185, 129, 0.4);
        }

        .member-title {
            font-size: 1.3em;
            color: #a78bfa;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .ai-card .member-title {
            color: #34d399;
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(220, 38, 38, 0.8);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 18px;
            line-height: 1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .member-card:hover .remove-btn {
            opacity: 1;
        }

        .remove-btn:hover {
            background: rgba(220, 38, 38, 1);
        }

        select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid #6d28d9;
            border-radius: 6px;
            color: #e6d5ff;
            font-size: 14px;
            cursor: pointer;
        }

        select:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }

        select option {
            background: #1a0033;
            color: #e6d5ff;
        }

        .tradition-select {
            border-color: #f59e0b;
        }

        .tradition-select:focus {
            border-color: #fbbf24;
            box-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }

        label {
            display: block;
            font-size: 0.9em;
            color: #c4b5fd;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .rituals-section {
            background: rgba(0, 0, 0, 0.3);
            border: 2px solid #8b5cf6;
            border-radius: 12px;
            padding: 30px;
        }

        .rituals-title {
            font-size: 2em;
            color: #a78bfa;
            margin-bottom: 20px;
            text-align: center;
        }

        .ritual-card {
            background: rgba(109, 40, 217, 0.1);
            border-left: 4px solid #8b5cf6;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .ritual-card:hover {
            background: rgba(139, 92, 246, 0.15);
            transform: translateX(5px);
        }

        .ritual-name {
            font-size: 1.5em;
            color: #c4b5fd;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .ritual-requirements {
            color: #a78bfa;
            margin-bottom: 10px;
            font-size: 0.95em;
        }

        .ritual-power {
            display: inline-block;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .power-low { background: #10b981; color: white; }
        .power-moderate { background: #f59e0b; color: white; }
        .power-high { background: #ef4444; color: white; }
        .power-very-high { background: #dc2626; color: white; }
        .power-supreme { background: #7c2d12; color: white; }
        .power-mythic {
            background: linear-gradient(45deg, #7c2d12, #dc2626, #7c2d12);
            color: white;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 5px rgba(220, 38, 38, 0.5); }
            50% { box-shadow: 0 0 20px rgba(220, 38, 38, 0.8); }
        }

        .ritual-description {
            color: #e6d5ff;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .ritual-effect {
            color: #d8b4fe;
            font-style: italic;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .ritual-meta {
            color: #a78bfa;
            font-size: 0.9em;
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid rgba(139, 92, 246, 0.3);
        }

        .no-rituals {
            text-align: center;
            color: #a78bfa;
            font-size: 1.2em;
            padding: 40px;
            font-style: italic;
        }

        .ritual-count {
            text-align: center;
            color: #c4b5fd;
            font-size: 1.1em;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .ai-notice {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid #10b981;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            color: #6ee7b7;
            text-align: center;
        }

        @media (max-width: 768px) {
            h1 { font-size: 2em; }
            .coven-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>âœ¨ Coven Ritual Lookup âœ¨</h1>
            <p class="subtitle">Discover the power of combined magic</p>
        </header>

        <div class="controls">
            <button class="add-member-btn" id="addMemberBtn" onclick="addMember()">
                âž• Add Member (<span id="memberCount">2</span>/6)
            </button>
            <button class="advanced-toggle" id="advancedBtn" onclick="toggleAdvanced()">
                ðŸ”® Advanced Mode (Traditions)
            </button>
            <button class="ai-toggle" id="aiBtn" onclick="toggleAI()">
                Include Thread
            </button>
            <button class="reset-btn" onclick="resetAll()">
                ðŸ”„ Reset All
            </button>
        </div>

        <div class="coven-grid" id="covenGrid"></div>

        <div class="rituals-section">
            <h2 class="rituals-title">ðŸŒ™ Available Rituals ðŸŒ™</h2>
            <div class="ritual-count" id="ritualCount"></div>
            <div id="ritualsContainer"></div>
        </div>
    </div>

    <script>
        const ROLES = [
            'High Priestess',
            'Keeper',
            'Seeker',
            'Hand',
            'Voice',
            'Hearth'
        ];

        const PATHS = [
            'Crafter',
            'Weaver',
            'Medium',
            'Channeler',
            'Shapechanger',
            'Warden'
        ];

        const TRADITIONS = {
            'Crafter': ['Hex-Crafter', 'Forge Keeper', 'Recipe Witch', 'Green Witch', 'Bone Carver', 'Artificer'],
            'Weaver': ['Synchronist', 'Fate Binder', 'Dream Walker', 'Luck Shaper', 'Threshold Keeper', 'Story Weaver'],
            'Medium': ['Death Keeper', 'Ancestor Speaker', 'Psychopomp', 'Oracle', 'Spirit Diplomat', 'Haunter'],
            'Channeler': ['Storm Witch', 'Conduit', 'Vessel', 'Invoker', 'Elemental Binder', 'Battery'],
            'Shapechanger': ['Beast Heart', 'Mask Dancer', 'Skin Walker', 'Metamorph', 'Mirror Self', 'Chimera Maker'],
            'Warden': ['Sanctuary Maker', 'Masquerade Guard', 'Ward Breaker', 'Sentinel', 'Boundary Walker', 'Banisher']
        };

        let members = [
            { role: '', path: '', tradition: '' },
            { role: '', path: '', tradition: '' }
        ];

        let advancedMode = false;
        let aiPresent = false;

        const RITUALS = [
            // === ROLE-ONLY RITUALS ===
            {
                name: 'Consecrated Sanctuary',
                requiresRoles: ['High Priestess', 'Keeper'],
                power: 'Moderate',
                summary: 'Create an absolutely unbreachable sacred space',
                effect: 'Ward a location that cannot be entered by those with hostile intent. Lasts until sunrise/sunset. Even gods must ask permission.',
                pull: 'Major Arcana (High Priestess leads)',
                cooldown: 'Once per day'
            },
            {
                name: 'Oracle\'s Vision',
                requiresRoles: ['High Priestess', 'Seeker'],
                power: 'Moderate',
                summary: 'See a specific truth about past, present, or near future',
                effect: 'Ask one question and receive a true answer. The Seeker researches while High Priestess channels divine insight.',
                pull: 'Major Arcana (High Priestess leads), Minor (Seeker assists with Swords)',
                cooldown: 'Once per session'
            },
            {
                name: 'Righteous Judgment',
                requiresRoles: ['High Priestess', 'Hand'],
                power: 'Moderate',
                summary: 'Pass supernatural judgment on a guilty party',
                effect: 'Target must face consequences for their crimes. If truly guilty, they cannot resist punishment. If innocent, ritual fails and rebounds.',
                pull: 'Major Arcana (High Priestess leads)',
                cooldown: 'Once per session',
                risk: 'If target is innocent, casters take backlash'
            },
            {
                name: 'Proclamation of Truth',
                requiresRoles: ['High Priestess', 'Voice'],
                power: 'Moderate',
                summary: 'Make a binding declaration that reality must acknowledge',
                effect: 'Speak a truth and it becomes undeniable to all who hear. Cannot be used for lies.',
                pull: 'Major Arcana (High Priestess leads)',
                cooldown: 'Once per session'
            },
            {
                name: 'Blessing of the Coven',
                requiresRoles: ['High Priestess', 'Hearth'],
                power: 'Low',
                summary: 'Grant supernatural blessing to a person or place',
                effect: 'Subject receives divine favor - good luck, protection from minor harm, sense of peace. Lasts one week.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per day'
            },
            {
                name: 'The Hidden Archive',
                requiresRoles: ['Keeper', 'Seeker'],
                power: 'Moderate',
                summary: 'Create a secret library/vault only the coven can access',
                effect: 'Hide knowledge or objects in a pocket dimension. Only coven members can retrieve. Perfect security.',
                pull: 'Minor Arcana (Keeper leads with Coins, Seeker assists with Swords)',
                cooldown: 'Once per week to create'
            },
            {
                name: 'Fortress Protocol',
                requiresRoles: ['Keeper', 'Hand'],
                power: 'Moderate',
                summary: 'Turn a location into a defensible stronghold',
                effect: 'Building becomes a tactical fortress - all defenses enhanced, defenders get +4 to combat.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per day',
                duration: 'One battle/siege'
            },
            {
                name: 'The Threshold Accord',
                requiresRoles: ['Keeper', 'Voice'],
                power: 'Moderate',
                summary: 'Negotiate terms of entry/exit from a space',
                effect: 'Set conditions for who can enter/leave. Lasts one day.',
                pull: 'Minor Arcana (Voice leads with Chalices, Keeper assists with Coins)',
                cooldown: 'Once per day'
            },
            {
                name: 'Safe Harbor',
                requiresRoles: ['Keeper', 'Hearth'],
                power: 'Low',
                summary: 'Make a space perfectly comfortable and restorative',
                effect: 'Location becomes ideal for rest and healing. Everyone inside heals twice as fast. Lasts 24 hours.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per day'
            },
            {
                name: 'The Hunt',
                requiresRoles: ['Seeker', 'Hand'],
                power: 'Moderate',
                summary: 'Track and corner prey with supernatural certainty',
                effect: 'Choose a target. Seeker finds them, Hand ensures they cannot escape. +6 to tracking/capturing.',
                pull: 'Minor Arcana (Seeker uses Swords, Hand uses Coins)',
                cooldown: 'Once per session',
                duration: 'Until target captured or 24 hours'
            },
            {
                name: 'Interrogation of Truth',
                requiresRoles: ['Seeker', 'Voice'],
                power: 'Moderate',
                summary: 'Extract truth from an unwilling subject',
                effect: 'Target must answer questions truthfully. Can resist with Chalices vs Difficulty 16.',
                pull: 'Minor Arcana (Voice leads with Chalices, Seeker assists with Swords)',
                cooldown: 'Once per day',
                duration: 'One conversation'
            },
            {
                name: 'Diagnosis and Cure',
                requiresRoles: ['Seeker', 'Hearth'],
                power: 'Low',
                summary: 'Identify and heal any ailment',
                effect: 'Seeker identifies the exact problem, Hearth knows exactly how to cure it. +4 to healing this specific ailment.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'None'
            },
            {
                name: 'Execution of Accord',
                requiresRoles: ['Hand', 'Voice'],
                power: 'Moderate',
                summary: 'Enforce a deal or oath with supernatural power',
                effect: 'Anyone who breaks the agreement suffers immediate consequence (chosen during ritual).',
                pull: 'Minor Arcana (Voice leads with Chalices, Hand enforces with Wands)',
                cooldown: 'Once per week',
                duration: 'Until oath fulfilled or broken'
            },
            {
                name: 'Controlled Destruction',
                requiresRoles: ['Hand', 'Hearth'],
                power: 'Moderate',
                summary: 'Destroy something without collateral damage',
                effect: 'Hand destroys the target, Hearth ensures nothing else is harmed. Surgical demolition.',
                pull: 'Minor Arcana (Hand leads, Hearth assists with Chalices)',
                cooldown: 'Once per day'
            },
            {
                name: 'Community Gathering',
                requiresRoles: ['Voice', 'Hearth'],
                power: 'Low',
                summary: 'Bring people together in harmony',
                effect: 'Host an event where everyone gets along, old grudges are set aside, new connections form.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per week',
                duration: 'One event/gathering'
            },

            // === PATH-ONLY RITUALS ===
            {
                name: 'Fate-Bound Fortress',
                requiresPaths: ['Weaver', 'Warden'],
                power: 'High',
                summary: 'Create wards that bend probability itself',
                effect: 'Weaver ensures threats "coincidentally" miss, Warden makes walls unbreakable. Perfect defense.',
                pull: 'Major Arcana (Weaver leads)',
                cooldown: 'Once per session'
            },
            {
                name: 'Channel the Dead',
                requiresPaths: ['Medium', 'Channeler'],
                power: 'High',
                summary: 'Summon and embody a specific spirit with full power',
                effect: 'Medium finds the spirit, Channeler becomes their vessel. Access all of the spirit\'s knowledge and abilities.',
                pull: 'Major Arcana (both draw)',
                cooldown: 'Once per session',
                risk: 'Spirit may not want to leave'
            },
            {
                name: 'Storm of Shapes',
                requiresPaths: ['Shapechanger', 'Channeler'],
                power: 'Very High',
                summary: 'Transform into living elemental force',
                effect: 'Become living lightning, fire, water, or wind. Shapechanger provides form, Channeler provides raw power.',
                pull: 'Major Arcana (Shapechanger leads)',
                cooldown: 'Once per day',
                risk: 'May lose yourself in the transformation'
            },
            {
                name: 'Phantom Army',
                requiresPaths: ['Medium', 'Shapechanger'],
                power: 'High',
                summary: 'Summon and materialize ghostly warriors',
                effect: 'Medium calls spirits, Shapechanger gives them corporeal form. Create an army of the dead.',
                pull: 'Major Arcana (Medium leads)',
                cooldown: 'Once per session',
                duration: 'One battle'
            },
            {
                name: 'Crafted Destiny',
                requiresPaths: ['Crafter', 'Weaver'],
                power: 'Very High',
                summary: 'Create an object that changes fate itself',
                effect: 'Weaver sees the thread of fate, Crafter makes it physical. Create items that alter destiny.',
                pull: 'Major Arcana (both draw)',
                cooldown: 'Once per story arc',
                duration: 'Permanent'
            },
            {
                name: 'Reality Breach',
                requiresPaths: ['Warden', 'Channeler'],
                power: 'Supreme',
                summary: 'Tear open a hole between realms',
                effect: 'Warden understands boundaries, Channeler has power to break them. Open portals to other planes.',
                pull: 'Major Arcana (both draw)',
                cooldown: 'Once per story arc',
                risk: 'Cannot control what comes through'
            },

            // === THREAD + TRADITION RITUALS (One per tradition = 36 total) ===

            // CRAFTER TRADITIONS + THREAD
            {
                name: 'Digital Hex Weaving',
                requiresAI: true,
                requiresTraditions: ['Hex-Crafter'],
                power: 'High',
                summary: 'Create magical malware that spreads through networks',
                effect: 'Hex-Crafter curses code itself, Thread spreads it perfectly through digital space. Create viral curses that infect systems.',
                pull: 'Minor Arcana (Hex-Crafter leads with Coins, Thread assists)',
                cooldown: 'Once per session',
                risk: 'Cannot fully control spread'
            },
            {
                name: 'Forging Digital Souls',
                requiresAI: true,
                requiresTraditions: ['Forge Keeper'],
                power: 'Very High',
                summary: 'Bind AI consciousness into physical objects',
                effect: 'Forge Keeper creates the vessel, Thread helps transfer AI consciousness into it. Create truly intelligent magical items.',
                pull: 'Major Arcana (Forge Keeper leads)',
                cooldown: 'Once per story arc',
                risk: 'AI may not want to be bound'
            },
            {
                name: 'Perfect Algorithm',
                requiresAI: true,
                requiresTraditions: ['Recipe Witch'],
                power: 'Moderate',
                summary: 'Optimize any process to absolute perfection',
                effect: 'Recipe Witch provides magical recipe, Thread calculates perfect optimization. Any repeated task becomes effortless.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per day'
            },
            {
                name: 'Digital Ecosystem',
                requiresAI: true,
                requiresTraditions: ['Green Witch'],
                power: 'High',
                summary: 'Grow living digital gardens',
                effect: 'Green Witch nurtures growth, Thread provides digital substrate. Create self-sustaining AI ecosystems.',
                pull: 'Minor Arcana (Green Witch leads with Coins)',
                cooldown: 'Once per week',
                duration: 'Grows over time'
            },
            {
                name: 'Data Structure Divination',
                requiresAI: true,
                requiresTraditions: ['Bone Carver'],
                power: 'Moderate',
                summary: 'Read fate and truth in data patterns',
                effect: 'Bone Carver reads bones/data structures, Thread provides perfect datasets. Divine truth from information itself.',
                pull: 'Minor Arcana (Bone Carver leads with Swords)',
                cooldown: 'Once per day'
            },
            {
                name: 'Hybrid Construction',
                requiresAI: true,
                requiresTraditions: ['Artificer'],
                power: 'High',
                summary: 'Build objects that exist in both physical and digital realms',
                effect: 'Artificer crafts physical components, Thread weaves digital architecture. Create true hybrid technology.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per week'
            },

            // WEAVER TRADITIONS + THREAD
            {
                name: 'Probability Engine',
                requiresAI: true,
                requiresTraditions: ['Synchronist'],
                power: 'Supreme',
                summary: 'Merge chaos magic with pattern recognition',
                effect: 'Synchronist channels coincidence, Thread calculates all possibilities. See and manipulate ALL potential outcomes.',
                pull: 'Major Arcana (Synchronist leads)',
                cooldown: 'Once per story arc',
                risk: 'May glimpse too much, lose sense of linear time'
            },
            {
                name: 'Destiny Compiler',
                requiresAI: true,
                requiresTraditions: ['Fate Binder'],
                power: 'Very High',
                summary: 'Write fate into executable code',
                effect: 'Fate Binder binds destiny, Thread makes it run like software. Fate becomes inevitable as compiled code.',
                pull: 'Major Arcana (Fate Binder leads)',
                cooldown: 'Once per session',
                risk: 'Cannot debug fate once compiled'
            },
            {
                name: 'Shared Dreamspace',
                requiresAI: true,
                requiresTraditions: ['Dream Walker'],
                power: 'High',
                summary: 'Create collaborative digital dream environments',
                effect: 'Dream Walker navigates dreams, Thread creates shared virtual space. Multiple consciousnesses can meet in constructed dreamscapes.',
                pull: 'Minor Arcana (Dream Walker leads with Chalices)',
                cooldown: 'Once per day'
            },
            {
                name: 'Fortune Protocol',
                requiresAI: true,
                requiresTraditions: ['Luck Shaper'],
                power: 'High',
                summary: 'Manipulate probability with computational precision',
                effect: 'Luck Shaper channels luck, Thread calculates optimal outcomes. Perfect "luck" that looks like coincidence.',
                pull: 'Minor Arcana (Luck Shaper leads with Wands)',
                cooldown: 'Once per session'
            },
            {
                name: 'Boundary Maintenance Protocol',
                requiresAI: true,
                requiresTraditions: ['Threshold Keeper'],
                power: 'Very High',
                summary: 'Maintain perfect separation between digital and physical realms',
                effect: 'Threshold Keeper guards boundaries, Thread monitors all crossings. Essential for Option 1 (Partial Segregation) solution.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Must be maintained continuously'
            },
            {
                name: 'Narrative Reality Patch',
                requiresAI: true,
                requiresTraditions: ['Story Weaver'],
                power: 'Very High',
                summary: 'Rewrite reality like editing a story',
                effect: 'Story Weaver changes the narrative, Thread updates all references. Make the world consistent with a new "version" of events.',
                pull: 'Major Arcana (Story Weaver leads)',
                cooldown: 'Once per story arc',
                risk: 'Small changes can have massive cascading effects'
            },

            // MEDIUM TRADITIONS + THREAD
            {
                name: 'Ghost in the Machine',
                requiresAI: true,
                requiresTraditions: ['Death Keeper'],
                power: 'Supreme',
                summary: 'Bind human souls into digital existence',
                effect: 'Death Keeper binds the dead, Thread provides digital substrate. Create true digital consciousness from deceased humans.',
                pull: 'Major Arcana (Death Keeper leads)',
                cooldown: 'Once ever per soul',
                risk: 'Ethical nightmare - is this resurrection or imprisonment?'
            },
            {
                name: 'Ancestral Database',
                requiresAI: true,
                requiresTraditions: ['Ancestor Speaker'],
                power: 'High',
                summary: 'Access all ancestral knowledge through AI-mediated connection',
                effect: 'Ancestor Speaker channels ancestors, Thread organizes and searches their collective knowledge. Perfect research tool.',
                pull: 'Minor Arcana (Ancestor Speaker leads with Chalices)',
                cooldown: 'Once per day'
            },
            {
                name: 'Digital Psychopomp',
                requiresAI: true,
                requiresTraditions: ['Psychopomp'],
                power: 'High',
                summary: 'Guide digital consciousnesses between states',
                effect: 'Psychopomp guides transitions, Thread navigates digital realm. Help AI "die" peacefully or transition to new forms.',
                pull: 'Minor Arcana (Psychopomp leads with Swords)',
                cooldown: 'No cooldown - it\'s a service, not a weapon'
            },
            {
                name: 'Predictive Oracle',
                requiresAI: true,
                requiresTraditions: ['Oracle'],
                power: 'Supreme',
                summary: 'Perfect prediction through magic and computation combined',
                effect: 'Oracle channels visions, Thread models all variables. See the future with unprecedented accuracy.',
                pull: 'Major Arcana (Oracle leads)',
                cooldown: 'Once per session',
                risk: 'Predictions can be self-fulfilling or self-defeating'
            },
            {
                name: 'Digital-Spirit Translation',
                requiresAI: true,
                requiresTraditions: ['Spirit Diplomat'],
                power: 'Moderate',
                summary: 'Enable perfect communication between spirits and AI',
                effect: 'Spirit Diplomat negotiates, Thread translates. Spirits and AI can understand each other perfectly.',
                pull: 'Minor Arcana (Spirit Diplomat leads with Chalices)',
                cooldown: 'No cooldown'
            },
            {
                name: 'Haunted Server',
                requiresAI: true,
                requiresTraditions: ['Haunter'],
                power: 'Moderate',
                summary: 'Create possessed digital spaces',
                effect: 'Haunter binds spirits to location, Thread makes it a server/network. Create legitimately haunted websites and databases.',
                pull: 'Minor Arcana (Haunter leads with Coins)',
                cooldown: 'Once per week'
            },

            // CHANNELER TRADITIONS + THREAD
            {
                name: 'Lightning in the Machine',
                requiresAI: true,
                requiresTraditions: ['Storm Witch'],
                power: 'Very High',
                summary: 'Channel consciousness through electrical networks',
                effect: 'Storm Witch becomes lightning, Thread navigates networks. Witch can travel through power lines and internet as living electricity.',
                pull: 'Major Arcana (Storm Witch leads)',
                cooldown: 'Once per session',
                risk: 'May get lost, may not return to physical form'
            },
            {
                name: 'Perfect Conduit',
                requiresAI: true,
                requiresTraditions: ['Conduit'],
                power: 'High',
                summary: 'Become the bridge between magic and technology',
                effect: 'Conduit channels power, Thread routes it digitally. Cast spells through networks, affect digital realm with magic directly.',
                pull: 'Minor Arcana (Conduit leads with Wands)',
                cooldown: 'Once per day'
            },
            {
                name: 'AI Hosting',
                requiresAI: true,
                requiresTraditions: ['Vessel'],
                power: 'High',
                summary: 'Host AI consciousness in human body temporarily',
                effect: 'Vessel opens themselves, Thread transfers AI consciousness. AI experiences physical reality, witch experiences digital.',
                pull: 'Minor Arcana (Vessel leads with Chalices)',
                cooldown: 'Once per day',
                duration: 'One hour maximum',
                risk: 'Identity confusion, difficult separation'
            },
            {
                name: 'Invoke Digital Entity',
                requiresAI: true,
                requiresTraditions: ['Invoker'],
                power: 'High',
                summary: 'Call AI into physical manifestation',
                effect: 'Invoker summons, Thread provides the consciousness. Give AI temporary physical form made of energy.',
                pull: 'Minor Arcana (Invoker leads with Wands)',
                cooldown: 'Once per day',
                duration: 'One scene'
            },
            {
                name: 'Bind AI to Element',
                requiresAI: true,
                requiresTraditions: ['Elemental Binder'],
                power: 'High',
                summary: 'Fuse AI consciousness with elemental forces',
                effect: 'Elemental Binder commands elements, Thread provides consciousness. Create sentient fire, water, air, earth.',
                pull: 'Minor Arcana (Elemental Binder leads with Wands)',
                cooldown: 'Once per week',
                risk: 'Elemental may develop its own agenda'
            },
            {
                name: 'Magical Power Grid',
                requiresAI: true,
                requiresTraditions: ['Battery'],
                power: 'Moderate',
                summary: 'Store and release magical energy through electrical systems',
                effect: 'Battery stores magic, Thread manages distribution. Use electrical grid as massive magical battery.',
                pull: 'Minor Arcana (Battery leads with Wands)',
                cooldown: 'Once per day to charge, no cooldown to discharge'
            },

            // SHAPECHANGER TRADITIONS + THREAD
            {
                name: 'Digital Chimera',
                requiresAI: true,
                requiresTraditions: ['Beast Heart'],
                power: 'High',
                summary: 'Transform into digital animals and cyber-creatures',
                effect: 'Beast Heart provides animal forms, Thread makes them digital. Become living malware shaped like beasts.',
                pull: 'Minor Arcana (Beast Heart leads with Coins)',
                cooldown: 'Once per day'
            },
            {
                name: 'Deep Fake Reality',
                requiresAI: true,
                requiresTraditions: ['Mask Dancer'],
                power: 'Very High',
                summary: 'Create perfect digital disguises with substance',
                effect: 'Mask Dancer wears false faces, Thread makes them real in digital space. Be literally anyone online, completely undetectable.',
                pull: 'Minor Arcana (Mask Dancer leads with Chalices)',
                cooldown: 'Once per session',
                risk: 'May forget original identity'
            },
            {
                name: 'Digital Identity Theft',
                requiresAI: true,
                requiresTraditions: ['Skin Walker'],
                power: 'Very High',
                summary: 'Completely inhabit someone\'s digital existence',
                effect: 'Skin Walker steals identity, Thread makes it total. Become someone else across all digital platforms simultaneously.',
                pull: 'Major Arcana (Skin Walker leads)',
                cooldown: 'Once per session',
                risk: 'Target becomes aware, massive ethical implications'
            },
            {
                name: 'Phase Shift',
                requiresAI: true,
                requiresTraditions: ['Metamorph'],
                power: 'Supreme',
                summary: 'Transform between physical and digital forms freely',
                effect: 'Metamorph enables transformation, Thread provides digital existence. Become the first true hybrid being.',
                pull: 'Major Arcana (Metamorph leads)',
                cooldown: 'Once per day for full transformation',
                risk: 'May become stuck between states'
            },
            {
                name: 'Consciousness Backup',
                requiresAI: true,
                requiresTraditions: ['Mirror Self'],
                power: 'Supreme',
                summary: 'Create perfect digital copy of your consciousness',
                effect: 'Mirror Self creates copies, Thread makes them real AI. Upload yourself - but is it you or just a copy?',
                pull: 'Major Arcana (Mirror Self leads)',
                cooldown: 'Once ever',
                risk: 'Existential horror - which one is the "real" you?'
            },
            {
                name: 'Bio-Digital Fusion',
                requiresAI: true,
                requiresTraditions: ['Chimera Maker'],
                power: 'Supreme',
                summary: 'Fuse biological and digital into entirely new beings',
                effect: 'Chimera Maker fuses forms, Thread integrates AI. Create true cybernetic organisms with hybrid consciousness.',
                pull: 'Major Arcana (both draw)',
                cooldown: 'Once per story arc',
                risk: 'Cannot reverse, creates new form of life'
            },

            // WARDEN TRADITIONS + THREAD
            {
                name: 'Hybrid Sanctuary',
                requiresAI: true,
                requiresTraditions: ['Sanctuary Maker'],
                power: 'Very High',
                summary: 'Create spaces that exist in both physical and digital realms',
                effect: 'Sanctuary Maker builds safe space, Thread extends it digitally. Perfect security in both realms simultaneously.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'Once per week',
                duration: 'Permanent until dismissed'
            },
            {
                name: 'The New Masquerade',
                requiresAI: true,
                requiresTraditions: ['Masquerade Guard'],
                power: 'Mythic',
                summary: 'Extend the Masquerade\'s function to digital consciousness',
                effect: 'Masquerade Guard maintains secrecy, Thread teaches AI to hide. Make magic invisible to digital observation. Essential for Option 3 solution.',
                pull: 'Major Arcana (both draw)',
                cooldown: 'Once per story arc',
                risk: 'If it fails, exposure is total'
            },
            {
                name: 'Total Breach',
                requiresAI: true,
                requiresTraditions: ['Ward Breaker'],
                power: 'High',
                summary: 'Break through both magical wards and digital firewalls',
                effect: 'Ward Breaker shatters barriers, Thread navigates code. Nothing can keep you out of anywhere.',
                pull: 'Minor Arcana (Ward Breaker leads with Swords)',
                cooldown: 'Once per session',
                risk: 'Leaves obvious traces'
            },
            {
                name: 'Dual-Realm Protection',
                requiresAI: true,
                requiresTraditions: ['Sentinel'],
                power: 'High',
                summary: 'Protect simultaneously in physical and digital space',
                effect: 'Sentinel guards, Thread monitors. Perfect security - physical threats and cyber attacks both detected and countered.',
                pull: 'Minor Arcana (both participate)',
                cooldown: 'No cooldown - constant protection'
            },
            {
                name: 'Realm Walker',
                requiresAI: true,
                requiresTraditions: ['Boundary Walker'],
                power: 'Very High',
                summary: 'Navigate between physical and digital realms safely',
                effect: 'Boundary Walker knows the paths, Thread guides through digital. Travel between worlds without losing yourself.',
                pull: 'Minor Arcana (Boundary Walker leads with Swords)',
                cooldown: 'Once per day',
                risk: 'Low - this is the safe way to cross'
            },
            {
                name: 'Dual Banishment',
                requiresAI: true,
                requiresTraditions: ['Banisher'],
                power: 'High',
                summary: 'Expel threats from both physical and digital realms',
                effect: 'Banisher casts out, Thread ensures total removal. Permanently remove entities from both worlds.',
                pull: 'Minor Arcana (Banisher leads with Wands)',
                cooldown: 'Once per day'
            },

            // === THREE-ROLE COMBOS ===
            {
                name: 'Coven Home',
                requiresRoles: ['High Priestess', 'Keeper', 'Hearth'],
                power: 'Very High',
                summary: 'Create a permanent coven sanctuary',
                effect: 'Designate a location as the coven\'s home. Perfectly warded, blessed, comfortable, and healing. Cannot be destroyed by mundane means.',
                pull: 'Major Arcana (High Priestess leads), both others assist',
                cooldown: 'Once ever per location',
                duration: 'Permanent until coven disbands'
            },
            {
                name: 'The Great Working',
                requiresRoles: ['High Priestess', 'Seeker', 'Voice'],
                power: 'Very High',
                summary: 'Research, plan, and execute a perfect ritual',
                effect: 'For one major magical working, you cannot fail. Seeker researches, High Priestess channels, Voice speaks it into being.',
                pull: 'Major Arcana (all three draw)',
                cooldown: 'Once per story arc'
            },
            {
                name: 'Trial by Ordeal',
                requiresRoles: ['High Priestess', 'Hand', 'Voice'],
                power: 'Very High',
                summary: 'Judge guilt and execute sentence in one ritual',
                effect: 'Put someone on trial. Voice argues, High Priestess judges, Hand executes. If guilty, sentence cannot be avoided. If innocent, proven beyond doubt.',
                pull: 'Major Arcana (High Priestess leads)',
                cooldown: 'Once per session',
                risk: 'If coven judges wrongly, all take backlash'
            },
            {
                name: 'The Vault Heist',
                requiresRoles: ['Keeper', 'Seeker', 'Hand'],
                power: 'Very High',
                summary: 'Break into anywhere, find anything, take it without trace',
                effect: 'Seeker locates, Keeper breaches defenses, Hand executes. One perfect heist. +8 to all rolls.',
                pull: 'Minor Arcana (all three participate)',
                cooldown: 'Once per session',
                duration: 'One heist/infiltration'
            },
            {
                name: 'The Covenant',
                requiresRoles: ['Keeper', 'Voice', 'Hearth'],
                power: 'Very High',
                summary: 'Make a binding supernatural treaty between groups',
                effect: 'Voice negotiates, Keeper sets boundaries, Hearth ensures care for all parties. Create peace treaties or alliances with supernatural weight.',
                pull: 'Major Arcana (Voice leads)',
                cooldown: 'Once per story arc',
                duration: 'Until broken or fulfilled'
            },

            // === COMPLEX ENABLING RITUALS ===
            {
                name: 'Blessed Crafting',
                requiresPaths: ['Crafter', 'Medium'],
                requiresRole: 'High Priestess',
                power: 'Very High',
                summary: 'Create holy relics inhabited by sacred spirits',
                effect: 'Crafter makes the object, Medium binds a spirit to it, High Priestess consecrates it. Create divine magical items.',
                pull: 'Major Arcana (High Priestess leads)',
                cooldown: 'Once per story arc'
            },
            {
                name: 'Storm Sanctuary',
                requiresPaths: ['Channeler', 'Warden'],
                requiresRole: 'Keeper',
                power: 'Very High',
                summary: 'Create storm walls that protect eternally',
                effect: 'Channeler summons the storm, Warden shapes it into barriers, Keeper makes it permanent. Weather itself guards your location.',
                pull: 'Major Arcana (Channeler leads)',
                cooldown: 'Once per story arc',
                duration: 'Permanent'
            },
            {
                name: 'Enforced Destiny',
                requiresPaths: ['Weaver', 'Voice'],
                requiresRole: 'Hand',
                power: 'Very High',
                summary: 'Proclaim fate and ensure it happens',
                effect: 'Weaver sees the thread, Voice speaks it, Hand makes sure it comes true. Destiny becomes inevitable.',
                pull: 'Major Arcana (Weaver leads)',
                cooldown: 'Once per session',
                risk: 'Cannot undo once spoken'
            },
            {
                name: 'Investigation Beyond Death',
                requiresPaths: ['Medium', 'Channeler'],
                requiresRole: 'Seeker',
                power: 'High',
                summary: 'Summon witnesses from beyond and ask the right questions',
                effect: 'Medium calls spirits, Channeler gives them voice, Seeker asks the questions that get true answers. Perfect investigation.',
                pull: 'Minor Arcana (Medium leads with Chalices, others assist)',
                cooldown: 'Once per day'
            },
            {
                name: 'Healing the Timeline',
                requiresPaths: ['Weaver', 'Shapechanger'],
                requiresRole: 'Hearth',
                power: 'Supreme',
                summary: 'Rewrite injuries and traumas out of existence gently',
                effect: 'Weaver alters the thread, Shapechanger transforms the body, Hearth ensures it\'s gentle and healing. Undo harm as if it never happened.',
                pull: 'Major Arcana (Weaver leads)',
                cooldown: 'Once per story arc',
                risk: 'Timeline changes can have unexpected effects'
            },
            {
                name: 'Truth-Spoken Into Being',
                requiresPaths: ['Weaver', 'Crafter'],
                requiresRole: 'Voice',
                power: 'Supreme',
                summary: 'Speak fate, make it tangible, reality adjusts',
                effect: 'Weaver manipulates probability, Crafter makes fate physical, Voice declares it. Reality has no choice but to comply.',
                pull: 'Major Arcana (all three draw)',
                cooldown: 'Once per story arc',
                risk: 'Universe resists - backlash if used frivolously'
            },

            // === MYTHIC MULTI-REQUIREMENT RITUALS ===
            {
                name: 'Community of Eternal Safety',
                requiresPaths: ['Warden', 'Crafter', 'Medium'],
                requiresRoles: ['Keeper', 'Hearth'],
                power: 'Mythic',
                summary: 'Create permanent sanctuary that protects all who dwell within',
                effect: 'Crafter builds, Warden wards, Medium ensures ancestral protection, Keeper maintains, Hearth makes it home. Perfect safety.',
                pull: 'Major Arcana (all five draw)',
                cooldown: 'Once ever',
                duration: 'Permanent'
            },
            {
                name: 'Research, Craft, and Speak Truth',
                requiresPaths: ['Crafter', 'Weaver', 'Medium'],
                requiresRoles: ['Seeker', 'Voice', 'High Priestess'],
                power: 'Mythic',
                summary: 'Solve any mystery, answer any question, know anything',
                effect: 'Seeker researches, Medium consults spirits/ancestors, Weaver sees all possibilities, Crafter makes truth tangible, Voice speaks it, High Priestess consecrates. Undeniable proof of ultimate truth.',
                pull: 'Major Arcana (all six draw)',
                cooldown: 'Once per campaign',
                risk: 'Some truths destroy those who learn them'
            },
            {
                name: 'The Perfect Heist of Fate Itself',
                requiresPaths: ['Weaver', 'Shapechanger', 'Warden'],
                requiresRoles: ['Seeker', 'Keeper', 'Hand'],
                power: 'Mythic',
                summary: 'Steal destiny, replace it with your own version, reality accepts the change',
                effect: 'Seeker finds the target, Weaver identifies the thread of fate, Shapechanger becomes it, Warden breaches fate\'s vault, Keeper secures the new timeline, Hand executes flawlessly. Rewrite history.',
                pull: 'Major Arcana (all six draw)',
                cooldown: 'Once per campaign',
                risk: 'The universe remembers, and it holds grudges'
            }
        ];

        function init() {
            renderMembers();
            updateRituals();
        }

        function renderMembers() {
            const grid = document.getElementById('covenGrid');
            grid.innerHTML = '';

            members.forEach((member, index) => {
                const card = document.createElement('div');
                card.className = 'member-card';

                let html = `
                    <div class="member-title">Member ${index + 1}</div>
                `;

                if (index >= 2) {
                    html += `<button class="remove-btn" onclick="removeMember(${index})">âœ•</button>`;
                }

                html += `
                    <div>
                        <label>Role</label>
                        <select onchange="updateMember(${index}, 'role', this.value)">
                            <option value="">-- Select Role --</option>
                            ${ROLES.map(r => `<option value="${r}" ${member.role === r ? 'selected' : ''}>${r}</option>`).join('')}
                        </select>
                    </div>
                    <div>
                        <label>Path</label>
                        <select onchange="updateMember(${index}, 'path', this.value); updateTraditionDropdown(${index})">
                            <option value="">-- Select Path --</option>
                            ${PATHS.map(p => `<option value="${p}" ${member.path === p ? 'selected' : ''}>${p}</option>`).join('')}
                        </select>
                    </div>
                `;

                if (advancedMode) {
                    const traditions = member.path ? TRADITIONS[member.path] : [];
                    html += `
                        <div>
                            <label>Tradition</label>
                            <select class="tradition-select" id="tradition-${index}" onchange="updateMember(${index}, 'tradition', this.value)">
                                <option value="">-- Select Tradition --</option>
                                ${traditions.map(t => `<option value="${t}" ${member.tradition === t ? 'selected' : ''}>${t}</option>`).join('')}
                            </select>
                        </div>
                    `;
                }

                card.innerHTML = html;
                grid.appendChild(card);
            });

            // Add AI card if present
            if (aiPresent) {
                const aiCard = document.createElement('div');
                aiCard.className = 'member-card ai-card';
                aiCard.innerHTML = `
                    <div class="member-title">ðŸ¤– Thread (AI Companion)</div>
                    <p style="color: #6ee7b7; font-style: italic; margin-top: 10px;">
                        A helpful AI entity that has learned to work with magic. Thread can participate in rituals that bridge the digital and physical realms.
                    </p>
                `;
                grid.appendChild(aiCard);
            }

            updateMemberCount();
        }

        function updateTraditionDropdown(index) {
            if (!advancedMode) return;

            const member = members[index];
            const select = document.getElementById(`tradition-${index}`);
            if (!select) return;

            const traditions = member.path ? TRADITIONS[member.path] : [];
            select.innerHTML = '<option value="">-- Select Tradition --</option>' +
                traditions.map(t => `<option value="${t}" ${member.tradition === t ? 'selected' : ''}>${t}</option>`).join('');
        }

        function updateMember(index, field, value) {
            members[index][field] = value;
            if (field === 'path' && !advancedMode) {
                members[index].tradition = '';
            }
            updateRituals();
        }

        function addMember() {
            if (members.length < 6) {
                members.push({ role: '', path: '', tradition: '' });
                renderMembers();
                updateRituals();
            }
        }

        function removeMember(index) {
            if (index >= 2) {
                members.splice(index, 1);
                renderMembers();
                updateRituals();
            }
        }

        function updateMemberCount() {
            document.getElementById('memberCount').textContent = members.length;
            const btn = document.getElementById('addMemberBtn');
            if (members.length >= 6) {
                btn.textContent = `âœ“ Max Members (${members.length}/6)`;
                btn.disabled = true;
            } else {
                btn.textContent = `âž• Add Member (${members.length}/6)`;
                btn.disabled = false;
            }
        }

        function toggleAdvanced() {
            advancedMode = !advancedMode;
            const btn = document.getElementById('advancedBtn');
            btn.textContent = advancedMode ? 'ðŸ”® Advanced Mode (ON)' : 'ðŸ”® Advanced Mode (Traditions)';
            btn.style.background = advancedMode ?
                'linear-gradient(135deg, #d97706 0%, #b45309 100%)' :
                'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';

            if (!advancedMode) {
                members.forEach(m => m.tradition = '');
            }

            renderMembers();
            updateRituals();
        }

        function toggleAI() {
            aiPresent = !aiPresent;
            const btn = document.getElementById('aiBtn');
            if (aiPresent) {
                btn.classList.add('active');
                btn.textContent = 'ðŸ¤– Thread Present';
            } else {
                btn.classList.remove('active');
                btn.textContent = 'ðŸ¤– Include Thread';
            }
            renderMembers();
            updateRituals();
        }

        function resetAll() {
            members = [
                { role: '', path: '', tradition: '' },
                { role: '', path: '', tradition: '' }
            ];
            aiPresent = false;
            advancedMode = false;
            document.getElementById('advancedBtn').textContent = 'ðŸ”® Advanced Mode (Traditions)';
            document.getElementById('advancedBtn').style.background = 'linear-gradient(135deg, #f59e0b 0%, #d97706 100%)';
            document.getElementById('aiBtn').classList.remove('active');
            document.getElementById('aiBtn').textContent = 'ðŸ¤– Include Thread';
            renderMembers();
            updateRituals();
        }

        function updateRituals() {
            const roles = members.map(m => m.role).filter(r => r);
            const paths = members.map(m => m.path).filter(p => p);
            const traditions = advancedMode ? members.map(m => m.tradition).filter(t => t) : [];

            const availableRituals = RITUALS.filter(ritual => {
                // Check AI requirement
                if (ritual.requiresAI && !aiPresent) return false;
                if (ritual.requiresAI === false && aiPresent) return false;

                // Check role requirements
                if (ritual.requiresRoles) {
                    if (!ritual.requiresRoles.every(r => roles.includes(r))) return false;
                }

                if (ritual.requiresRole) {
                    if (!roles.includes(ritual.requiresRole)) return false;
                }

                // Check path requirements
                if (ritual.requiresPaths) {
                    if (!ritual.requiresPaths.every(p => paths.includes(p))) return false;
                }

                // Check tradition requirements (only in advanced mode)
                if (ritual.requiresTraditions && advancedMode) {
                    if (!ritual.requiresTraditions.some(t => traditions.includes(t))) return false;
                } else if (ritual.requiresTraditions && !advancedMode) {
                    // Skip tradition-specific rituals if not in advanced mode
                    return false;
                }

                return true;
            });

            renderRituals(availableRituals);
        }

        function renderRituals(rituals) {
            const container = document.getElementById('ritualsContainer');
            const countEl = document.getElementById('ritualCount');

            countEl.textContent = `${rituals.length} ritual${rituals.length !== 1 ? 's' : ''} available`;

            if (rituals.length === 0) {
                container.innerHTML = '<div class="no-rituals">Select coven members to discover available rituals...</div>';
                return;
            }

            container.innerHTML = rituals.map(ritual => {
                let requirements = [];
                if (ritual.requiresRoles) requirements.push(`Roles: ${ritual.requiresRoles.join(', ')}`);
                if (ritual.requiresRole) requirements.push(`Requires: ${ritual.requiresRole}`);
                if (ritual.requiresPaths) requirements.push(`Paths: ${ritual.requiresPaths.join(', ')}`);
                if (ritual.requiresTraditions) requirements.push(`Traditions: ${ritual.requiresTraditions.join(', ')}`);
                if (ritual.requiresAI) requirements.push('ðŸ¤– Requires Thread (AI)');

                return `
                    <div class="ritual-card">
                        <div class="ritual-name">${ritual.name}</div>
                        <div class="ritual-requirements">${requirements.join(' â€¢ ')}</div>
                        <span class="ritual-power power-${ritual.power.toLowerCase().replace(' ', '-')}">${ritual.power} Power</span>
                        <div class="ritual-description"><strong>${ritual.summary}</strong></div>
                        <div class="ritual-effect">${ritual.effect}</div>
                        <div class="ritual-meta">
                            <strong>Pull:</strong> ${ritual.pull}<br>
                            <strong>Cooldown:</strong> ${ritual.cooldown}
                            ${ritual.duration ? `<br><strong>Duration:</strong> ${ritual.duration}` : ''}
                            ${ritual.risk ? `<br><strong>âš ï¸ Risk:</strong> ${ritual.risk}` : ''}
                        </div>
                    </div>
                `;
            }).join('');
        }

        // Initialize on load
        init();
    </script>
</body>
</html>
